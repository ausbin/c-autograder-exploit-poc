// Assignment Tester

#include <check.h>
#include "../assignment.h"

// I apologize to my family for this
#define tcase_hack(suite, func) { \
    TCase *tc = tcase_create(#func); \
    tcase_add_test(tc, func); \
    suite_add_tcase(s, tc); \
}

static int input[] =  {-200, 0, 1, 2, 3, 5, 10,  15,     27};
static int output[] = {  -1, 0, 1, 1, 2, 5, 55, 610, 196418};

START_TEST(test_fib) {
    ck_assert_int_eq(fib(input[_i]), output[_i]);
}
END_TEST

Suite *assignment_suite(void) {
    Suite *s = suite_create("fun assignment");

    TCase *tc = tcase_create("fib");
    tcase_add_loop_test(tc, test_fib, 0, sizeof input / sizeof *input);
    suite_add_tcase(s, tc);

    return s;
}
